{"ast":null,"code":"import _taggedTemplateLiteral from \"K:\\\\ALevel\\\\REACT\\\\shop-project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"K:\\\\ALevel\\\\REACT\\\\shop-project\\\\src\\\\screens\\\\home\\\\home-screen.jsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    CategoryFind(query: \\\"[{}]\\\") {\\n      name\\n      _id\\n      subCategories {\\n        name\\n        _id\\n        image {\\n          url\\n        }\\n      }\\n      image {\\n        url\\n      }\\n      goods {\\n        _id\\n        name\\n        price\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport CategoryList from \"./components/category-list\";\nimport Spinner from \"./../../shared/components/spinner\";\nimport useQuery from \"./../../shared/hooks/use-query\";\nimport { gql } from \"graphql-request\";\nimport { ENDPOINT } from \"./../../API\";\nvar query = gql(_templateObject());\n\nvar HomeScreen = function HomeScreen() {\n  var _useQuery = useQuery({\n    query,\n    initialState: {\n      CategoryFind: []\n    }\n  }),\n      data = _useQuery.data,\n      status = _useQuery.status;\n\n  console.log(data, status);\n\n  var onChange = function onChange(e) {\n    var formData = new FormData();\n    formData.append(\"photo\", e.target.files[0]);\n    fetch(\"\".concat(ENDPOINT, \"/upload\"), {\n      method: \"POST\",\n      headers: localStorage.token ? {\n        Authorization: \"Bearer \" + localStorage.token\n      } : {},\n      body: formData\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return console.log(\"UPLOAD RESULT\", json);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, \"Home screen\", /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onChange,\n    type: \"file\",\n    name: \"photo\",\n    id: \"photo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default HomeScreen;","map":{"version":3,"sources":["K:/ALevel/REACT/shop-project/src/screens/home/home-screen.jsx"],"names":["React","CategoryList","Spinner","useQuery","gql","ENDPOINT","query","HomeScreen","initialState","CategoryFind","data","status","console","log","onChange","e","formData","FormData","append","target","files","fetch","method","headers","localStorage","token","Authorization","body","then","res","json"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,IAAMC,KAAK,GAAGF,GAAH,mBAAX;;AAwBA,IAAMG,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA,kBACEJ,QAAQ,CAAC;AAChCG,IAAAA,KADgC;AAEhCE,IAAAA,YAAY,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAFkB,GAAD,CADV;AAAA,MACfC,IADe,aACfA,IADe;AAAA,MACTC,MADS,aACTA,MADS;;AAKzBC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAAkBC,MAAlB;;AACE,MAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAO;AACtB,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAAzB;AAEAC,IAAAA,KAAK,WAAIhB,QAAJ,cAAuB;AAC1BiB,MAAAA,MAAM,EAAE,MADkB;AAE1BC,MAAAA,OAAO,EAAEC,YAAY,CAACC,KAAb,GACL;AAAEC,QAAAA,aAAa,EAAE,YAAYF,YAAY,CAACC;AAA1C,OADK,GAEL,EAJsB;AAK1BE,MAAAA,IAAI,EAAEX;AALoB,KAAvB,CAAL,CAOGY,IAPH,CAOQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KAPR,EAQGF,IARH,CAQQ,UAACE,IAAD;AAAA,aAAUlB,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BiB,IAA7B,CAAV;AAAA,KARR;AASD,GAdD;;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,QAAQ,EAAEhB,QAAjB;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAuC,IAAA,IAAI,EAAC,OAA5C;AAAoD,IAAA,EAAE,EAAC,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAQD,CA9BD;;AAgCA,eAAeP,UAAf","sourcesContent":["import React from \"react\";\n\nimport CategoryList from \"./components/category-list\";\nimport Spinner from \"./../../shared/components/spinner\";\nimport useQuery from \"./../../shared/hooks/use-query\";\nimport { gql } from \"graphql-request\";\nimport { ENDPOINT } from \"./../../API\";\n\nconst query = gql`\n  query {\n    CategoryFind(query: \"[{}]\") {\n      name\n      _id\n      subCategories {\n        name\n        _id\n        image {\n          url\n        }\n      }\n      image {\n        url\n      }\n      goods {\n        _id\n        name\n        price\n      }\n    }\n  }\n`;\n\nconst HomeScreen = () => {\n  const { data, status } = useQuery({\n    query,\n    initialState: { CategoryFind: [] }\n  });\nconsole.log(data, status)\n  const onChange = (e) => {\n    const formData = new FormData();\n\n    formData.append(\"photo\", e.target.files[0]);\n\n    fetch(`${ENDPOINT}/upload`, {\n      method: \"POST\",\n      headers: localStorage.token\n        ? { Authorization: \"Bearer \" + localStorage.token }\n        : {},\n      body: formData\n    })\n      .then((res) => res.json())\n      .then((json) => console.log(\"UPLOAD RESULT\", json));\n  };\n\n  return (\n    <div className=\"mt-3\">\n      Home screen\n      <form>\n        <input onChange={onChange} type=\"file\" name=\"photo\" id=\"photo\" />\n      </form>\n    </div>\n  );\n};\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}